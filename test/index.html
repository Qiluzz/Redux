<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   
</head>
<body>

    <button id="plus">+</button>
    <span id="count">0</span>
    <button id="minus">-</button>
    <script src="https://cdn.bootcdn.net/ajax/libs/redux/4.1.0-alpha.0/redux.js"></script>
    <script>
        //3.存储默认状态
        const initialState = {
            count:0
        }
        //2. 创建reducer函数
        function reducer(state = initialState, action) {

            switch (action.type) {
                case "increment":
                    return { count: state.count + 1} 
                    break;
                case "decrement":
                    return { count: state.count - 1 } 
                    break;
                default:
                    return state
                    break;
            }
            
            
        }
        //1.创建store对象
        var store = Redux.createStore(reducer) //第二参数是默认参数

        //4.定义action
        var increment  = {type:'increment'};
        var decrement = {type:'decrement'};

        //5.获取按钮 添加事件
        document.getElementById('plus').onclick = function () {
            //6.触发action
            store.dispatch(increment)

        }
        document.getElementById('minus').onclick = function () {
            //6.触发action
            store.dispatch(decrement)
        }
        //7.订阅store
        store.subscribe(()=>{
            document.getElementById('count').innerHTML = store.getState().count
            console.log(store.getState())
        })

        //获取store对象存储的状态
        console.log(store.getState())
    </script>
</body>
</html>